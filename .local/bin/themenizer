#!/usr/bin/env bash

# Required dependencies
required=("wal")

# Check dependencies
for cmd in "${required[@]}"; do
  if ! which "$cmd" &> /dev/null; then
    echo "Error: '$cmd' not found"
    exit 1
  fi
done

WALLPAPER_DIR="/home/${USER}/wallpapers/"
CURRENT_WALL=$(hyprctl hyprpaper listloaded)

WALLPAPER=$(find "$WALLPAPER_DIR" -type f | shuf -n 1)
echo $WALLPAPER

swaybg -i $WALLPAPER </dev/null &>/dev/null &

wal -i $WALLPAPER -q </dev/null &>/dev/null &

# ln -sf /home/"${USER}"/.dotfiles/systemd/"${file}" /etc/systemd/system/"${file}"
